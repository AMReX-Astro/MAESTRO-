<!DOCTYPE html>
<!--
	Transit by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>About MAESTROeX</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
    <script src="js/jquery.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>
    <script src="js/init.js"></script>
    <noscript>
      <link rel="stylesheet" href="css/skel.css" />
      <link rel="stylesheet" href="css/style.css" />
      <link rel="stylesheet" href="css/style-xlarge.css" />
    </noscript>
  </head>
  <body>

    <!-- Header -->
    <header id="header">
      <h1><a href="index.html">MAESTROeX</a></h1>
      <nav id="nav">
	<ul>
	  <li><a href="about.html">About</a></li>
	  <li><a href="science.html">Science</a></li>
	  <li><a href="papers.html">Papers</a></li>
	  <li><a href="who.html">Developers</a></li>
      <li><a href="docs/index.html">User's Guide</a></li>
	  <li><a href="help.html" class="button special">Get Help</a></li>
	</ul>
      </nav>
    </header>

    <!-- Main -->
    <section id="main" class="wrapper">
      <div class="container">

	<div class="row">
	  <div id="sidebar" class="4u 12u$(small)">
	    <section>
	      <ul class="unstyled">
		<li><h3>MAESTROeX at a glance</h3></li>
		<li>2-d plane parallel, and 3-d spherical and plane parallel 2nd-order hydrodynamics</li>
		<li>adaptive mesh refinement</li>
		<li>arbitrary equation of state (gamma-law and stellar
		  EOSes are bundled)</li>
		<li>general nuclear reaction networks</li>
		<li>implicit thermal diffusion</li>
		<li>parallelization via MPI + OpenMP</li>


	      </ul>

	      <ul class="unstyled">
		<li><h3>Documentation</h3></li>
		<li>The code structure and algorithm are described in the 
                    <a href="docs/index.html">MAESTROeX User's Guide</a></li>
	      </ul>
	    </section>
	  </div>

	  <div class="8u$ 12u$(small) important(small)">

	    <header class="major">
	      <h3>Introduction</h3>
	    </header>

            <P>A large number of interesting astrophysical phenomena
              occur at low Mach numbers.  Evolving these flows with a
              fully compressible simulation code is inefficient,
              because of the need to follow the sound waves.  For an
              explicit time-discretization (i.e., the new state is
              expressed solely in terms of the present state), a
              fundamental limitation exists on the size of the
              allowable timesteps -- the CFL condition.  A timestep is
              restricted such that information may only propagate
              across one zone in the computational grid per timestep.
              In compressible flow, information propagates at the
              speeds: u, <nobr>u + c</nobr>, and
              <nobr>u - c</nobr>, where c is the sound speed.
              Mathematically the timestep restriction is expressed as
              <span class="eq">&Delta; t &lt; min { &Delta; x / (|u| + c)}</span>.
              For very low Mach number flows, this is
              <span class="eq">&Delta; t ~ &Delta; x / c</span> This
              means that <em>for an interface moving at a Mach number
              M &lt;&lt; 1, it takes 1/M timesteps for that interface
              to move just one zone!</em>

            <p>MAESTROeX solves a reformulation of the equations of hydrodynamics
              that filters out sound waves, while retaining the compressibility effects
              important to the problem at hand.  This results in a timestep
              constraint of the form
              <span class="eq">&Delta; t &lt; min{ &Delta; x / |u|
              }</span> Therefore, MAESTROeX requires far fewer timesteps
              (~1/M fewer) to simulate low Mach number flows.

            <p><img class="intext" src="science-images/soundwaves2.png" border=0><br>
            <p class="caption">Figure 1: Mach number for 3 burning rising bubbles from a compressible
                  code (top) and a low Mach number hydrodynamics method (bottom).</p>

            <p>Mathematically, we can think of low Mach number flows
              as exhibiting instantaneous acoustic equilibriation.
              Figure 1 shows this graphically.  Three temperature
              perturbations were placed in a stratified atmosphere,
              seeding nuclear reactions.  The heat release makes the
              bubbles buoyant.  The top panel shows the Mach number
              for the compressible solution&mdash;a clear signal
              resulting from the finite propagation speed of the
              soundwaves is seen surrounding each bubble.  In the low
              panel, a low Mach number method was used.  Owing to the
              instantaneous acoustic equilibriation, the velocity
              field is realized throughout the whole domain&mdash;even
              far from the bubbles.  However, the flow at the bubbles
              is identical between the two codes, showing that in this
              case, the soundwaves are not imporatant to the dynamics.


	    <!-- <a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a> -->


	    <header class="major">
	      <h3>Low Mach number variations</h3>
	    </header>


            <p>There are several popular methods for filtering
              soundwaves, which we summarize below.


            <p><h4>Incompressible hydrodynamics</h4>

            <p>The simplest low Mach number approximation is
              incompressible hydrodynamics.  This approximation is
              formally the M &rarr; 0 limit of the Navier-Stokes
              equations.  In incompressible hydrodynamics, the
              velocity satisfies a constraint
              equation <span class="eq">&nabla; &sdot; U = 0</span>
              which acts to instantaneously equilibrate the flow,
              thereby filtering out soundwaves.

            <p>The constraint equation implies that 
              <span class="eq">D&rho;/Dt = 0</span> which says that the
              density is constant along particle paths.  This means
              that there are no compressibility effects modeled in
              this approximation.


            <p><h4>Anelastic hydrodynamics</h4>

            <p>In the anelastic approximation small amplitude
              thermodynamic perturbations are carried with respect to
              a hydrostatic background.  The density perturbation is
              ignored in the continuity equation, resulting in a
              constraint equation
              <span class="eq">&nabla; &sdot; (&rho;<sub>0</sub>U) =
              0</span> This properly captures the compressibility
              effects due to the stratification of the background.
              Because there is no evolution equation for the
              perturbational density, approximations are made to the
              buoyancy term in the momentum equation.


            <p><h4>The low Mach number combustion model</h4>

            <p>In the low Mach number combustion model, the pressure
              is decomposed into a dynamic, &pi;, and thermodynamic
              component, p<sub>0</sub>, the ratio of which is
              O(M<sup>2</sup>).  The total pressure is replaced
              everywhere by the thermodynamic pressure, except in the
              momentum equation.  This decouples the pressure and
              density and filters out the sound waves.  <em>Large
              amplitude density and temperature fluctuations are
              allowed</em>.  The only requirement is that the total
              pressure stay close to the background pressure, which is
              assumed constant.  This requirement can be expressed as
              <span class="eq">p = p<sub>0, </sub></span> and
              differentiating this along particle paths leads to a
              constraint on the velocity field:
              <span class="eq">&nabla; &sdot; U = S</span> This looks
              like the constraint for incompressible hydrodynamics,
              but now we have a source term, S, representing the
              compressibility effects due to the energy generation and
              thermal diffusion.

            <p>Since the background pressure is taken to be constant,
              we cannot model flows that cover a large fraction of a
              pressure scale height.  However, this method is ideal
              for exploring the physics of flames.  We formulated this
              algorithm for astrophysical flows and used it to explore
              the dynamics of Rayleigh-Taylor unstable flame fronts in
              Type Ia supernovae in two- and three-dimensions.  This
              was the predecessor to Maestro.

            <P><h4>Low Mach number stellar flows</h4>

            <p>To model the full star, we begin with the low Mach
              number combustion model described above, but no longer
              assume that the background pressure is constant, but
              instead, is hydrostatically stratified.  This results in
              a constraint on the velocity field of:
              <span class="eq">&nabla; &sdot; ( &beta;<sub>0</sub>U) = &beta;<sub>0</sub>[
                S - 1/(&Gamma;<sub>1</sub>p<sub>0</sub>)
                &part;p<sub>0</sub>/&part;t]</span> 

              Here, &beta;<sub>0</sub> is a density-like variable.
              Again, large amplitude density and temperature
              variations are allowed.  The only restriction is that
              the pressure remain close to the background pressure.
              In the presence of heating, the star will expand, and
              therefore <em>we need to evolve the background state in
              response to the local heating</em>.  This is an
              extension of the pseudo-incompressible method introduced
              in the atmospheric science community.  As with anelastic
              hydrodynamics, this constraint incorporates the effects
              of the background stratification.  However, in contrast
              to anelastic, the right-hand side is non-zero, and
              represents the compressibility effects due to heating
              and the change in the background state.


	    <header class="major">
	      <h3>microphysics</h3>
	    </header>

	    <p>A default &gamma;-law equation of state and
	      general-composition non-reacting network as distributed
	      in the main MAESTROeX git repo.  Additional equations of
	      state (including a general stellar EOS) and many nuclear
	      reaction networks are distributed in
	      the <a href="https://github.com/StarKiller-astro/Microphysics">Microphysics</a>
	      git repo.  Maintaining them in a separate repo allows all of the
	      AMReX astrophysics codes share the same microphysics.


	    <header class="major">
	      <h3>reproducibility</h3>
	    </header>

	    <p>All MAESTROeX plotfiles store information about the build
	      environment (build machine, build date, compiler version
	      and flags), run environment (output date, output dir,
	      number of processors, wall clock time), and code
	      versions used (git hashes for the main MAESTROeX source and
	      AMReX source, and support repos, if available).  This
	      allows for a recovery of the code base used for previous
	      results.</p>

	    <p>MAESTROeX is run through a nightly regression test suite that
	      checks the output, bit-for-bit, against stored benchmarks
	      for many of the problem setups (including real science
	      runs).</p>


	    <a name="performance"></a>

	    <header class="major">
	      <h3>parallel performance</h3>
	    </header>

	    <p>coming soon...
	  </div>
	</div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
      <div class="container">
	<section class="ack">
	  MAESTROeX is under continual development&mdash;new changes are
	  first pushed to the <var>development</var> branch and then
	  merged into <var>master</var> once all regression tests
	  have passed.
	</section>
	<div class="row">
	  <div class="8u 12u$(medium)">
	    <ul class="copyright">
	      <li>&copy; MAESTROeX development team. All rights reserved.</li>
	      <li>Design: <a href="http://templated.co">TEMPLATED</a></li>
	    </ul>
	  </div>
	</div>
      </div>
    </footer>

  </body>
</html>
